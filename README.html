<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang xml:lang>
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>README</title>
  <style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}

ul.task-list[class]{list-style: none;}
ul.task-list li input[type="checkbox"] {
font-size: inherit;
width: 0.8em;
margin: 0 0.8em 0.2em -1.6em;
vertical-align: middle;
}
.display.math{display: block; text-align: center; margin: 0.5rem auto;}

pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
</style>
  <style type="text/css">@font-face {
font-family: octicons-link;
src: url(data:font/woff;charset=utf-8;base64,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) format('woff');
}
.octicon {
display: inline-block;
fill: currentColor;
vertical-align: text-bottom;
}
.anchor {
float: left;
line-height: 1;
margin-left: -20px;
padding-right: 4px;
}
.anchor:focus {
outline: none;
}
h1 .octicon-link,
h2 .octicon-link,
h3 .octicon-link,
h4 .octicon-link,
h5 .octicon-link,
h6 .octicon-link {
color: #1b1f23;
vertical-align: middle;
visibility: hidden;
}
h1:hover .anchor,
h2:hover .anchor,
h3:hover .anchor,
h4:hover .anchor,
h5:hover .anchor,
h6:hover .anchor {
text-decoration: none;
}
h1:hover .anchor .octicon-link,
h2:hover .anchor .octicon-link,
h3:hover .anchor .octicon-link,
h4:hover .anchor .octicon-link,
h5:hover .anchor .octicon-link,
h6:hover .anchor .octicon-link {
visibility: visible;
}
body {
-ms-text-size-adjust: 100%;
-webkit-text-size-adjust: 100%;
color: #24292e;
line-height: 1.5;
font-family: -apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol;
font-size: 16px;
line-height: 1.5;
word-wrap: break-word;
}
.pl-c {
color: #6a737d;
}
.pl-c1,
.pl-s .pl-v {
color: #005cc5;
}
.pl-e,
.pl-en {
color: #6f42c1;
}
.pl-s .pl-s1,
.pl-smi {
color: #24292e;
}
.pl-ent {
color: #22863a;
}
.pl-k {
color: #d73a49;
}
.pl-pds,
.pl-s,
.pl-s .pl-pse .pl-s1,
.pl-sr,
.pl-sr .pl-cce,
.pl-sr .pl-sra,
.pl-sr .pl-sre {
color: #032f62;
}
.pl-smw,
.pl-v {
color: #e36209;
}
.pl-bu {
color: #b31d28;
}
.pl-ii {
background-color: #b31d28;
color: #fafbfc;
}
.pl-c2 {
background-color: #d73a49;
color: #fafbfc;
}
.pl-c2:before {
content: "^M";
}
.pl-sr .pl-cce {
color: #22863a;
font-weight: 700;
}
.pl-ml {
color: #735c0f;
}
.pl-mh,
.pl-mh .pl-en,
.pl-ms {
color: #005cc5;
font-weight: 700;
}
.pl-mi {
color: #24292e;
font-style: italic;
}
.pl-mb {
color: #24292e;
font-weight: 700;
}
.pl-md {
background-color: #ffeef0;
color: #b31d28;
}
.pl-mi1 {
background-color: #f0fff4;
color: #22863a;
}
.pl-mc {
background-color: #ffebda;
color: #e36209;
}
.pl-mi2 {
background-color: #005cc5;
color: #f6f8fa;
}
.pl-mdr {
color: #6f42c1;
font-weight: 700;
}
.pl-ba {
color: #586069;
}
.pl-sg {
color: #959da5;
}
.pl-corl {
color: #032f62;
text-decoration: underline;
}
details {
display: block;
}
summary {
display: list-item;
}
a {
background-color: transparent;
}
a:active,
a:hover {
outline-width: 0;
}
strong {
font-weight: inherit;
font-weight: bolder;
}
h1 {
font-size: 2em;
margin: .67em 0;
}
img {
border-style: none;
}
code,
kbd,
pre {
font-family: monospace,monospace;
font-size: 1em;
}
hr {
box-sizing: content-box;
height: 0;
overflow: visible;
}
input {
font: inherit;
margin: 0;
}
input {
overflow: visible;
}
[type=checkbox] {
box-sizing: border-box;
padding: 0;
}
* {
box-sizing: border-box;
}
input {
font-family: inherit;
font-size: inherit;
line-height: inherit;
}
a {
color: #0366d6;
text-decoration: none;
}
a:hover {
text-decoration: underline;
}
strong {
font-weight: 600;
}
hr {
background: transparent;
border: 0;
border-bottom: 1px solid #dfe2e5;
height: 0;
margin: 15px 0;
overflow: hidden;
}
hr:before {
content: "";
display: table;
}
hr:after {
clear: both;
content: "";
display: table;
}
table {
border-collapse: collapse;
border-spacing: 0;
}
td,
th {
padding: 0;
}
details summary {
cursor: pointer;
}
h1,
h2,
h3,
h4,
h5,
h6 {
margin-bottom: 0;
margin-top: 0;
}
h1 {
font-size: 32px;
}
h1,
h2 {
font-weight: 600;
}
h2 {
font-size: 24px;
}
h3 {
font-size: 20px;
}
h3,
h4 {
font-weight: 600;
}
h4 {
font-size: 16px;
}
h5 {
font-size: 14px;
}
h5,
h6 {
font-weight: 600;
}
h6 {
font-size: 12px;
}
p {
margin-bottom: 10px;
margin-top: 0;
}
blockquote {
margin: 0;
}
ol,
ul {
margin-bottom: 0;
margin-top: 0;
padding-left: 0;
}
ol ol,
ul ol {
list-style-type: lower-roman;
}
ol ol ol,
ol ul ol,
ul ol ol,
ul ul ol {
list-style-type: lower-alpha;
}
dd {
margin-left: 0;
}
code,
pre {
font-family: SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;
font-size: 12px;
}
pre {
margin-bottom: 0;
margin-top: 0;
}
input::-webkit-inner-spin-button,
input::-webkit-outer-spin-button {
-webkit-appearance: none;
appearance: none;
margin: 0;
}
.border {
border: 1px solid #e1e4e8!important;
}
.border-0 {
border: 0!important;
}
.border-bottom {
border-bottom: 1px solid #e1e4e8!important;
}
.rounded-1 {
border-radius: 3px!important;
}
.bg-white {
background-color: #fff!important;
}
.bg-gray-light {
background-color: #fafbfc!important;
}
.text-gray-light {
color: #6a737d!important;
}
.mb-0 {
margin-bottom: 0!important;
}
.my-2 {
margin-bottom: 8px!important;
margin-top: 8px!important;
}
.pl-0 {
padding-left: 0!important;
}
.py-0 {
padding-bottom: 0!important;
padding-top: 0!important;
}
.pl-1 {
padding-left: 4px!important;
}
.pl-2 {
padding-left: 8px!important;
}
.py-2 {
padding-bottom: 8px!important;
padding-top: 8px!important;
}
.pl-3,
.px-3 {
padding-left: 16px!important;
}
.px-3 {
padding-right: 16px!important;
}
.pl-4 {
padding-left: 24px!important;
}
.pl-5 {
padding-left: 32px!important;
}
.pl-6 {
padding-left: 40px!important;
}
.f6 {
font-size: 12px!important;
}
.lh-condensed {
line-height: 1.25!important;
}
.text-bold {
font-weight: 600!important;
}
a:not([href]) {
color: inherit;
text-decoration: none;
}
blockquote,
dl,
ol,
p,
pre,
table,
ul {
margin-bottom: 16px;
margin-top: 0;
}
hr {
background-color: #e1e4e8;
border: 0;
height: .25em;
margin: 24px 0;
padding: 0;
}
blockquote {
border-left: .25em solid #dfe2e5;
color: #6a737d;
padding: 0 1em;
}
blockquote>:first-child {
margin-top: 0;
}
blockquote>:last-child {
margin-bottom: 0;
}
kbd {
background-color: #fafbfc;
border: 1px solid #c6cbd1;
border-bottom-color: #959da5;
border-radius: 3px;
box-shadow: inset 0 -1px 0 #959da5;
color: #444d56;
display: inline-block;
font-size: 11px;
line-height: 10px;
padding: 3px 5px;
vertical-align: middle;
}
h1,
h2,
h3,
h4,
h5,
h6 {
font-weight: 600;
line-height: 1.25;
margin-bottom: 16px;
margin-top: 24px;
}
h1 {
font-size: 2em;
}
h1,
h2 {
border-bottom: 1px solid #eaecef;
padding-bottom: .3em;
}
h2 {
font-size: 1.5em;
}
h3 {
font-size: 1.25em;
}
h4 {
font-size: 1em;
}
h5 {
font-size: .875em;
}
h6 {
color: #6a737d;
font-size: .85em;
}
ol,
ul {
padding-left: 2em;
}
ol ol,
ol ul,
ul ol,
ul ul {
margin-bottom: 0;
margin-top: 0;
}
li {
word-wrap: break-all;
}
li>p {
margin-top: 16px;
}
li+li {
margin-top: .25em;
}
dl {
padding: 0;
}
dl dt {
font-size: 1em;
font-style: italic;
font-weight: 600;
margin-top: 16px;
padding: 0;
}
dl dd {
margin-bottom: 16px;
padding: 0 16px;
}
table {
display: block;
overflow: auto;
width: 100%;
}
table th {
font-weight: 600;
}
table td,
table th {
border: 1px solid #dfe2e5;
padding: 6px 13px;
}
table tr {
background-color: #fff;
border-top: 1px solid #c6cbd1;
}
table tr:nth-child(2n) {
background-color: #f6f8fa;
}
img {
background-color: #fff;
box-sizing: content-box;
max-width: 100%;
}
img[align=right] {
padding-left: 20px;
}
img[align=left] {
padding-right: 20px;
}
code {
background-color: rgba(27,31,35,.05);
border-radius: 3px;
font-size: 85%;
margin: 0;
padding: .2em .4em;
}
pre {
word-wrap: normal;
}
pre>code {
background: transparent;
border: 0;
font-size: 100%;
margin: 0;
padding: 0;
white-space: pre;
word-break: normal;
}
.highlight {
margin-bottom: 16px;
}
.highlight pre {
margin-bottom: 0;
word-break: normal;
}
.highlight pre,
pre {
background-color: #f6f8fa;
border-radius: 3px;
font-size: 85%;
line-height: 1.45;
overflow: auto;
padding: 16px;
}
pre code {
background-color: transparent;
border: 0;
display: inline;
line-height: inherit;
margin: 0;
max-width: auto;
overflow: visible;
padding: 0;
word-wrap: normal;
}
.commit-tease-sha {
color: #444d56;
display: inline-block;
font-family: SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;
font-size: 90%;
}
.blob-wrapper {
border-bottom-left-radius: 3px;
border-bottom-right-radius: 3px;
overflow-x: auto;
overflow-y: hidden;
}
.blob-wrapper-embedded {
max-height: 240px;
overflow-y: auto;
}
.blob-num {
-moz-user-select: none;
-ms-user-select: none;
-webkit-user-select: none;
color: rgba(27,31,35,.3);
cursor: pointer;
font-family: SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;
font-size: 12px;
line-height: 20px;
min-width: 50px;
padding-left: 10px;
padding-right: 10px;
text-align: right;
user-select: none;
vertical-align: top;
white-space: nowrap;
width: 1%;
}
.blob-num:hover {
color: rgba(27,31,35,.6);
}
.blob-num:before {
content: attr(data-line-number);
}
.blob-code {
line-height: 20px;
padding-left: 10px;
padding-right: 10px;
position: relative;
vertical-align: top;
}
.blob-code-inner {
color: #24292e;
font-family: SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;
font-size: 12px;
overflow: visible;
white-space: pre;
word-wrap: normal;
}
.pl-token.active,
.pl-token:hover {
background: #ffea7f;
cursor: pointer;
}
kbd {
background-color: #fafbfc;
border: 1px solid #d1d5da;
border-bottom-color: #c6cbd1;
border-radius: 3px;
box-shadow: inset 0 -1px 0 #c6cbd1;
color: #444d56;
display: inline-block;
font: 11px SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;
line-height: 10px;
padding: 3px 5px;
vertical-align: middle;
}
:checked+.radio-label {
border-color: #0366d6;
position: relative;
z-index: 1;
}
.tab-size[data-tab-size="1"] {
-moz-tab-size: 1;
tab-size: 1;
}
.tab-size[data-tab-size="2"] {
-moz-tab-size: 2;
tab-size: 2;
}
.tab-size[data-tab-size="3"] {
-moz-tab-size: 3;
tab-size: 3;
}
.tab-size[data-tab-size="4"] {
-moz-tab-size: 4;
tab-size: 4;
}
.tab-size[data-tab-size="5"] {
-moz-tab-size: 5;
tab-size: 5;
}
.tab-size[data-tab-size="6"] {
-moz-tab-size: 6;
tab-size: 6;
}
.tab-size[data-tab-size="7"] {
-moz-tab-size: 7;
tab-size: 7;
}
.tab-size[data-tab-size="8"] {
-moz-tab-size: 8;
tab-size: 8;
}
.tab-size[data-tab-size="9"] {
-moz-tab-size: 9;
tab-size: 9;
}
.tab-size[data-tab-size="10"] {
-moz-tab-size: 10;
tab-size: 10;
}
.tab-size[data-tab-size="11"] {
-moz-tab-size: 11;
tab-size: 11;
}
.tab-size[data-tab-size="12"] {
-moz-tab-size: 12;
tab-size: 12;
}
.task-list-item {
list-style-type: none;
}
.task-list-item+.task-list-item {
margin-top: 3px;
}
.task-list-item input {
margin: 0 .2em .25em -1.6em;
vertical-align: middle;
}
hr {
border-bottom-color: #eee;
}
.pl-0 {
padding-left: 0!important;
}
.pl-1 {
padding-left: 4px!important;
}
.pl-2 {
padding-left: 8px!important;
}
.pl-3 {
padding-left: 16px!important;
}
.pl-4 {
padding-left: 24px!important;
}
.pl-5 {
padding-left: 32px!important;
}
.pl-6 {
padding-left: 40px!important;
}
.pl-7 {
padding-left: 48px!important;
}
.pl-8 {
padding-left: 64px!important;
}
.pl-9 {
padding-left: 80px!important;
}
.pl-10 {
padding-left: 96px!important;
}
.pl-11 {
padding-left: 112px!important;
}
.pl-12 {
padding-left: 128px!important;
}
</style>
</head>
<body>
<h1 id="homeassistant-hacs-custom-rpi-gpiod-integration">HomeAssistant
HACS custom RPI GPIOD integration</h1>
<p>This HACS integration is used to address GPIO (especially and only
tested for RaspberryPi) using libgpiod and python gpiod &gt;=v2.02 since
RPI.gpio is no longer supported. I created this for my own use, and to
learn how to build a custom integration, but since it is working on
Raspberry Pi feel free to use.</p>
<blockquote>
<p><span class="emoji" data-emoji="bulb">üí°</span> The code of this
custom component upto v1.4.5 is copied over to the original HACS <a href="https://github.com/thecode/ha-rpi_gpio">RPI_GPIO</a> gpio
integration. You should most likely check and use that integration
instead of this one. I&#39;m keeping this repository for my own fun and
use.</p>
</blockquote>
<blockquote>
<p><span class="emoji" data-emoji="warning">‚ö†Ô∏è</span> This is working in
my homeassistant environment. Shared for testing. Use at your own risk.
<span class="emoji" data-emoji="+1">üëç</span></p>
</blockquote>
<p><code>ha_gpiod</code> is based on <a href="https://github.com/thecode/ha-rpi_gpio">ha-rpi_gpio</a>, which was
already adapted for <code>gpiod</code> in <a href="https://codeberg.org/raboof/ha-gpio">ha-gpio</a> and rewritten
from scratch for <code>gpiod</code> by me. Just recently this code is
copied back to <a href="https://github.com/thecode/ha-rpi_gpio">ha-rpi_gpio</a></p>
<h1 id="installation">Installation</h1>
<p>Via HACS: add as custom repository from github using this github <a href="https://github.com/jdeneef/ha_gpiod/">https://github.com/jdeneef/ha_gpiod/</a>
(HACS =&gt; integrations =&gt; 3-dots menu =&gt; custom repositories,
enter repository URL, select &quot;Integrations&quot; in Category drop-down, go
back to hacs, install gpiod component, reboot, add config,
reboot).<br />
If you run into errors, ensure HACS is up-to-date.</p>
<h1 id="usage">Usage</h1>
<p>The <code>gpiod</code> platform will be initialized using the path to
the gpio chip. When path is not in the config
<code>/dev/gpiochip[0-5]</code> are tested for a gpiodevice having
<code>pinctrl</code>, in sequence <code>[0,4,1,2,3,5]</code>. So with a
raspberry pi you should be OK to leave the path empty.</p>
<table>
<thead>
<tr class="header">
<th>Raspberry Pi</th>
<th>GPIO Device</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>RPi3, RPi4</td>
<td><code>/dev/gpiochip0</code></td>
</tr>
<tr class="even">
<td>RPi5</td>
<td><code>/dev/gpiochip4</code></td>
</tr>
</tbody>
</table>
<h2 id="sample-config-for-the-raspberry-pi-berryclip-hat">Sample config
for the raspberry pi berryclip hat</h2>
<p>See also configuraton-example.yaml; note that below config shows most
options, and can&#39;t be used as is, since <code>cover</code> reuses
<code>switch</code> and <code>sensor</code> ports.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># setup gpiod chip; mostly not required</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">gpiod</span><span class="kw">:</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">path</span><span class="kw">:</span><span class="at"> </span><span class="st">&#39;/dev/gpiochip0&#39;</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Example of switches (eg switched leds or buzzer) with some sample parameters</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">switch</span><span class="kw">:</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">platform</span><span class="kw">:</span><span class="at"> gpiod</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">switches</span><span class="kw">:</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;Led 1 red&quot;</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">port</span><span class="kw">:</span><span class="at"> </span><span class="dv">4</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;Led 2 red&quot;</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">port</span><span class="kw">:</span><span class="at"> </span><span class="dv">17</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">unique_id</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;gpio_led_red_2&quot;</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;Led 3 yellow&quot;</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">port</span><span class="kw">:</span><span class="at"> </span><span class="dv">22</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">active_low</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;Led 6 green&quot;</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">port</span><span class="kw">:</span><span class="at"> </span><span class="dv">11</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">bias</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;AS_IS&quot;</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">drive</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;PUSH_PULL&quot;</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;Fan&quot;</span></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">port</span><span class="kw">:</span><span class="at"> </span><span class="dv">8</span></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">persistent</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Example of binary_sensor (eg push button) setup</span></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a><span class="fu">binary_sensor</span><span class="kw">:</span></span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">platform</span><span class="kw">:</span><span class="at"> gpiod</span></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">sensors</span><span class="kw">:</span></span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;Button&quot;</span></span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">port</span><span class="kw">:</span><span class="at"> </span><span class="dv">7</span></span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a><span class="co"># Example of cover setup</span></span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a><span class="fu">cover</span><span class="kw">:</span></span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">platform</span><span class="kw">:</span><span class="at"> gpiod</span></span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">covers</span><span class="kw">:</span></span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">relay_port</span><span class="kw">:</span><span class="at"> </span><span class="dv">4</span></span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">name</span><span class="kw">:</span><span class="at"> Cover blue</span></span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">state_port</span><span class="kw">:</span><span class="at"> </span><span class="dv">7</span></span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">relay_time</span><span class="kw">:</span><span class="at"> </span><span class="dv">1200</span></span></code></pre></div>
<h2 id="platform">Platform</h2>
<table>
<thead>
<tr class="header">
<th>Key</th>
<th>Required</th>
<th>Default</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>gpiod</code></td>
<td>only for path</td>
<td>-</td>
<td>-</td>
<td><code>gpiod</code> platform config and initialization, only required
when you need to specify a specific gpiodevice path (see path)</td>
</tr>
<tr class="even">
<td><code>path</code></td>
<td>no</td>
<td>discovered</td>
<td>string</td>
<td>path to gpio device, if not set auto discovered</td>
</tr>
</tbody>
</table>
<h2 id="binary-sensor">Binary Sensor</h2>
<p>The <code>gpiod</code> binary sensor platform allows you to read
sensor values of the GPIOs of your device. To ensure consistence over
reboots the sensor status is read at startup and set accordingly.</p>
<h3 id="configuration-options">Configuration options</h3>
<table>
<thead>
<tr class="header">
<th>Key</th>
<th>Required</th>
<th>Default</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>sensors</code></td>
<td>yes</td>
<td></td>
<td>list</td>
<td>List of sensor IO ports (<a href="https://pinout.xyz/resources/raspberry-pi-pinout.png">Raspberry Pi
BCM mode pin numbers</a>)</td>
</tr>
<tr class="even">
<td><code>name</code></td>
<td>yes</td>
<td></td>
<td>string</td>
<td>The name for the binary sensor entity</td>
</tr>
<tr class="odd">
<td><code>port</code></td>
<td>yes</td>
<td></td>
<td>integer</td>
<td>the GPIO port to be used</td>
</tr>
<tr class="even">
<td><code>unique_id</code></td>
<td>no</td>
<td>generated</td>
<td>string</td>
<td>An ID that uniquely identifies the sensor. Set this to a unique
value to allow customization through the UI, auto generated when not set
manually in config</td>
</tr>
<tr class="odd">
<td><code>debounce</code></td>
<td>no</td>
<td><code>50</code></td>
<td>integer</td>
<td>The time in milliseconds for port debouncing</td>
</tr>
<tr class="even">
<td><code>active_low</code> or <code>invert_logic</code><a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a></td>
<td>no</td>
<td><code>false</code></td>
<td>boolean</td>
<td>If <code>true</code>, input of <code>gpio</code> is inverted,
<code>active_low</code> results in <code>on</code>;
<code>invert_logic</code> kept for backwards compatibility</td>
</tr>
<tr class="odd">
<td><code>bias</code> or <code>pull_mode</code></td>
<td>no</td>
<td><code>PULL_UP</code></td>
<td>string</td>
<td>control bias setting of GPIO, used to define the electrical state of
a GPIO line when not actively driven; <code>PULL_UP</code> set weak
pull-up resistor on the line, ensuring that the line is pulled to a high
level (3.3V or 5V) when not actively driven; <code>PULL_DOWN</code> sets
weak pull-down resistor to pull to low level (0V), <code>DISABLED</code>
remains floating, <code>AS_IS</code> not changed; <code>pull_mode</code>
kept for backwards compatibility</td>
</tr>
</tbody>
</table>
<h2 id="switch">Switch</h2>
<p>The <code>gpiod</code> switch platform allows you to control the
GPIOs of your device. To ensure consistence over restarts the
<code>persistent</code> flag should be set.</p>
<h3 id="options">Options</h3>
<table>
<thead>
<tr class="header">
<th>Key</th>
<th>Required</th>
<th>Default</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>switches</code></td>
<td>yes</td>
<td></td>
<td>list</td>
<td>List of switch IO ports (<a href="https://pinout.xyz/resources/raspberry-pi-pinout.png">Raspberry Pi
BCM mode pin numbers</a>)</td>
</tr>
<tr class="even">
<td><code>name</code></td>
<td>yes</td>
<td></td>
<td>string</td>
<td>The name for the switch entity</td>
</tr>
<tr class="odd">
<td><code>port</code></td>
<td>yes</td>
<td></td>
<td>integer</td>
<td>the GPIO port to be used</td>
</tr>
<tr class="even">
<td><code>unique_id</code></td>
<td>no</td>
<td>generated</td>
<td>string</td>
<td>An ID that uniquely identifies the switch. Set this to a unique
value to allow customization through the UI, auto generated when not set
manually in config</td>
</tr>
<tr class="odd">
<td><code>active_low</code> or <code>invert_logic</code></td>
<td>no</td>
<td><code>false</code></td>
<td>boolean</td>
<td>If <code>true</code>, output of <code>gpio</code> is inverted,
<code>active_low</code> switches <code>on</code>;
<code>invert_logic</code> kept for backwards compatibility</td>
</tr>
<tr class="even">
<td><code>bias</code> or <code>pull_mode</code></td>
<td>no</td>
<td><code>AS_IS</code></td>
<td>string</td>
<td>Type of internal pull resistor to use: <code>PULL_UP</code> -
pull-up resistor, <code>PULL_DOWN</code> - pull-down resistor,
<code>AS-IS</code> no change; <code>pull_mode</code> kept for backwards
compatibility</td>
</tr>
<tr class="odd">
<td><code>drive</code></td>
<td>no</td>
<td><code>PUSH_PULL</code></td>
<td>string</td>
<td>control drive configuration of the GPIO, determines how the line
behaves when it is set to output mode; <code>PUSH_PULL</code>, GPIO line
can both source and sink current, can actively drive the line to both
high and low states. <code>OPEN-DRAIN</code>, GPPIO can only sink
current (drive the line to low) and is otherwise left floating, and
<code>OPEN-SOURCE</code> the reverse.</td>
</tr>
<tr class="even">
<td><code>persistent</code></td>
<td>no</td>
<td><code>false</code></td>
<td>boolean</td>
<td>If true, the switch state will be persistent in HA and will be
restored if HA restart / crash.</td>
</tr>
</tbody>
</table>
<h2 id="cover">Cover</h2>
<p>The <code>gpiod</code> cover platform allows you to control GPIOs to
open/close covers; note that I have only verified cover functionality
simulating with switches and buttons, so logic could be off on some
points .. Covers consist of a switch for triggering cover motor, and a
state sensor for determining the state of the cover. This state is as
for all sensors read at startup time, so should be consistent over
reboots.</p>
<h3 id="options-1">Options</h3>
<table>
<thead>
<tr class="header">
<th>Key</th>
<th>Required</th>
<th>Default</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>name</code></td>
<td>yes</td>
<td></td>
<td>string</td>
<td>The name for the cover entity</td>
</tr>
<tr class="even">
<td><code>relay_port</code> or <code>relay_pin</code></td>
<td>yes</td>
<td></td>
<td>integer</td>
<td>Relay switch gpio switching cover motor; <code>relay_pin</code> kept
for backwards compatibility</td>
</tr>
<tr class="odd">
<td><code>relay_time</code></td>
<td>no</td>
<td><code>200</code></td>
<td>integer</td>
<td>Time in milliseconds relay switch will be switched to open/close
cover</td>
</tr>
<tr class="even">
<td><code>relay_active_low</code> or <code>invert_relay</code></td>
<td>no</td>
<td><code>false</code></td>
<td>boolean</td>
<td>invert input for <code>relay_port</code>; <code>invert_relay</code>
kept for backwards compatibility</td>
</tr>
<tr class="odd">
<td><code>relay_bias</code></td>
<td>no</td>
<td><code>AS_IS</code></td>
<td>string</td>
<td>Type of internal pull resistor to use: <code>PULL_UP</code> -
pull-up resistor, <code>PULL_DOWN</code> - pull-down resistor</td>
</tr>
<tr class="even">
<td><code>relay_drive</code></td>
<td>no</td>
<td><code>PUSH_PULL</code></td>
<td>string</td>
<td>set <code>relay_pin</code> <code>drive_mode</code>, options:
<code>OPEN_DRAIN</code>, <code>OPEN_SOURCE</code>,
<code>PUSH_PULL</code></td>
</tr>
<tr class="odd">
<td><code>state_port</code> or <code>state_pin</code></td>
<td>yes</td>
<td></td>
<td>integer</td>
<td>State port for opened/closed status of cover; <code>state_pin</code>
kept for backwards compatibility</td>
</tr>
<tr class="even">
<td><code>state_bias</code> or <code>state_pull_mode</code></td>
<td>no</td>
<td><code>PULL_UP</code></td>
<td>string</td>
<td>Type of internal pull resistor to use: <code>PULL_UP</code> -
pull-up resistor, <code>PULL_DOWN</code> - pull-down resistor;
<code>state_pull_mode</code> kept for backwards compatibility</td>
</tr>
<tr class="odd">
<td><code>state_active_low</code> or <code>invert_state</code></td>
<td>no</td>
<td><code>false</code></td>
<td>boolean</td>
<td>invert output for state pin; <code>invert_state</code> kept for
backwards compatibility</td>
</tr>
<tr class="even">
<td><code>state_debounce</code></td>
<td>no</td>
<td>50</td>
<td>integer</td>
<td>debounce parameter for the cover state sensor</td>
</tr>
<tr class="odd">
<td><code>unique_id</code></td>
<td>no</td>
<td>generated</td>
<td>string</td>
<td>An ID that uniquely identifies the switch. Set this to a unique
value to allow customization through the UI, auto generated when not set
manually in config</td>
</tr>
</tbody>
</table>
<h1 id="add-debug-info-and-issue-reporting">Add Debug info and issue
reporting</h1>
<p><em>Before</em> reporting issues please add this to your
<code>configuration.yaml</code> <code>logger</code> section, check logs
and report issue adding logging.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">logger</span><span class="kw">:</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">default</span><span class="kw">:</span><span class="at"> info</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">logs</span><span class="kw">:</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">custom_components.gpiod</span><span class="kw">:</span><span class="at"> debug</span></span></code></pre></div>
<section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr />
<ol>
<li id="fn1"><p>In <code>ha_gpiod</code> the <code>gpiod</code>
terminology is used as default, but the original
<code>ha-rpi_gpio</code> config parameters are maintained for backwards
compatibility. Using the <code>gpiod</code> terminology helps in
understanding what the <code>libgpiod</code> is really doing.<a href="#fnref1" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
</ol>
</section>
</body>
</html>
